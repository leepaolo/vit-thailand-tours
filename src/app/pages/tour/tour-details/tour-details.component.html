<div *ngIf="tour$ | async as tour; else noTour">
  <h2 class="text-2xl font-bold">{{ tour.tourTitle }}</h2>
  <p>{{ tour.tourStartAt }}</p>
  <p>{{ tour.tourFinishAt }}</p>

  <!-- Safely handle tourType -->
  <p *ngIf="tour.tourType">Tour type: {{ tour.tourType?.join(", ") }}</p>
  <p *ngIf="!tour.tourType">Tour type: N/A</p>

  <!-- Safely handle tourLanguage -->
  <p *ngIf="tour.tourLanguage">
    Tour languages: {{ tour.tourLanguage?.join(", ") }}
  </p>
  <p *ngIf="!tour.tourLanguage">Tour languages: N/A</p>

  <p>Location: {{ tour.tourLocation }}</p>
  <p>Price for adults: ${{ tour.tourPriceAdult }}</p>
  <p>Price for children: ${{ tour.tourPriceChild }}</p>
  <p>{{ tour.tourMainDescription }}</p>

  <!-- Render Steps -->
  <div *ngIf="tour$ | async as tour">
    <h3 class="text-xl font-bold mt-4">Tour Steps:</h3>
    <ul>
      <li *ngFor="let step of tour.steps; let i = index" class="mt-2">
        <p>
          <strong>Step {{ i + 1 }}:</strong> {{ step.tourStepTitle }}
        </p>
        <p>{{ step.tourStepDescription }}</p>
      </li>
    </ul>
  </div>

  <div *ngIf="tour.steps?.length === 0">
    <p>No steps available for this tour.</p>
  </div>

  <!-- Go Back Link to Tour List -->
  <a [routerLink]="['/all-tours']" class="text-blue-600 hover:underline mt-4"
    >Go Back to All Tours</a
  >
</div>

<ng-template #noTour>
  <p>Tour not found.</p>
</ng-template>
